2025-08-02 06:12:40,497 - __main__ - INFO - Starting comprehensive feature engineering...
2025-08-02 06:12:40,497 - __main__ - INFO - Loading data splits...
2025-08-02 06:12:40,541 - __main__ - INFO - Loaded train: (18699, 42)
2025-08-02 06:12:40,549 - __main__ - INFO - Loaded validation: (3252, 42)
2025-08-02 06:12:40,554 - __main__ - INFO - Loaded test: (3252, 42)
2025-08-02 06:12:40,554 - __main__ - INFO - Engineering features for train split...
2025-08-02 06:12:40,554 - __main__ - INFO - Creating target variables...
2025-08-02 06:12:40,557 - __main__ - INFO - Created ln_elec_kwh target variable
2025-08-02 06:12:40,557 - __main__ - INFO - Creating humidity bins...
2025-08-02 06:12:40,569 - __main__ - INFO - Created humidity bins: ['RH_low', 'RH_mid', 'RH_high']
2025-08-02 06:12:40,571 - __main__ - INFO - Humidity distribution: {'RH_high': 10694, 'RH_mid': 7391, 'RH_low': 614}
2025-08-02 06:12:40,571 - __main__ - INFO - Creating precipitation bins...
2025-08-02 06:12:40,582 - __main__ - INFO - Created precipitation bins: ['rain_days_0_1mm', 'rain_days_1_10mm', 'rain_days_10_plus']
2025-08-02 06:12:40,584 - __main__ - INFO - Precipitation distribution: {'rain_days_0_1mm': 17887, 'rain_days_10_plus': 763, 'rain_days_1_10mm': 49}
2025-08-02 06:12:40,584 - __main__ - INFO - Creating socioeconomic bins...
2025-08-02 06:12:40,594 - __main__ - INFO - GDP categories created with quantiles: [ 8582.45638298 12110.4777377 ]
2025-08-02 06:12:40,603 - __main__ - INFO - Population categories created with quantiles: [280783.   755007.96]
2025-08-02 06:12:40,612 - __main__ - INFO - Nightlight categories created: ['rural', 'urban_low', 'urban_high']
2025-08-02 06:12:40,613 - __main__ - INFO - Creating canopy bins...
2025-08-02 06:12:40,624 - __main__ - INFO - Canopy categories: ['no_canopy', 'low_canopy', 'medium_canopy', 'high_canopy']
2025-08-02 06:12:40,626 - __main__ - INFO - Canopy distribution: {'high_canopy': 14268, 'low_canopy': 2037, 'medium_canopy': 1839, 'no_canopy': 555}
2025-08-02 06:12:40,627 - __main__ - INFO - Creating two-way interactions...
2025-08-02 06:12:40,709 - __main__ - INFO - Created two-way interactions with dummy encoding
2025-08-02 06:12:40,710 - __main__ - INFO - Cleaning and validating features...
2025-08-02 06:12:40,838 - __main__ - INFO - Feature cleaning completed: (18699, 156)
2025-08-02 06:12:40,841 - __main__ - INFO - train feature engineering completed: (18699, 42) → (18699, 156)
2025-08-02 06:12:41,048 - __main__ - INFO - Saved train engineered dataset: G:\research\junmao-tang\code-test\code-space\data\processed\ml_analysis_city\engineered\train_engineered.parquet
2025-08-02 06:12:41,048 - __main__ - INFO - Engineering features for validation split...
2025-08-02 06:12:41,049 - __main__ - INFO - Creating target variables...
2025-08-02 06:12:41,052 - __main__ - INFO - Created ln_elec_kwh target variable
2025-08-02 06:12:41,052 - __main__ - INFO - Creating humidity bins...
2025-08-02 06:12:41,055 - __main__ - INFO - Created humidity bins: ['RH_low', 'RH_mid', 'RH_high']
2025-08-02 06:12:41,055 - __main__ - INFO - Humidity distribution: {'RH_high': 1890, 'RH_mid': 1226, 'RH_low': 136}
2025-08-02 06:12:41,055 - __main__ - INFO - Creating precipitation bins...
2025-08-02 06:12:41,058 - __main__ - INFO - Created precipitation bins: ['rain_days_0_1mm', 'rain_days_1_10mm', 'rain_days_10_plus']
2025-08-02 06:12:41,058 - __main__ - INFO - Precipitation distribution: {'rain_days_0_1mm': 3252}
2025-08-02 06:12:41,059 - __main__ - INFO - Creating socioeconomic bins...
2025-08-02 06:12:41,062 - __main__ - INFO - GDP categories created with quantiles: [10553. 14817.]
2025-08-02 06:12:41,065 - __main__ - INFO - Population categories created with quantiles: [190928.09 528520.76]
2025-08-02 06:12:41,069 - __main__ - INFO - Nightlight categories created: ['rural', 'urban_low', 'urban_high']
2025-08-02 06:12:41,069 - __main__ - INFO - Creating canopy bins...
2025-08-02 06:12:41,072 - __main__ - INFO - Canopy categories: ['no_canopy', 'low_canopy', 'medium_canopy', 'high_canopy']
2025-08-02 06:12:41,073 - __main__ - INFO - Canopy distribution: {'high_canopy': 2123, 'low_canopy': 591, 'medium_canopy': 406, 'no_canopy': 132}
2025-08-02 06:12:41,073 - __main__ - INFO - Creating two-way interactions...
2025-08-02 06:12:41,095 - __main__ - INFO - Created two-way interactions with dummy encoding
2025-08-02 06:12:41,095 - __main__ - INFO - Cleaning and validating features...
2025-08-02 06:12:41,152 - __main__ - INFO - Feature cleaning completed: (3252, 141)
2025-08-02 06:12:41,153 - __main__ - INFO - validation feature engineering completed: (3252, 42) → (3252, 141)
2025-08-02 06:12:41,183 - __main__ - INFO - Saved validation engineered dataset: G:\research\junmao-tang\code-test\code-space\data\processed\ml_analysis_city\engineered\validation_engineered.parquet
2025-08-02 06:12:41,184 - __main__ - INFO - Engineering features for test split...
2025-08-02 06:12:41,184 - __main__ - INFO - Creating target variables...
2025-08-02 06:12:41,184 - __main__ - INFO - Created ln_elec_kwh target variable
2025-08-02 06:12:41,184 - __main__ - INFO - Creating humidity bins...
2025-08-02 06:12:41,187 - __main__ - INFO - Created humidity bins: ['RH_low', 'RH_mid', 'RH_high']
2025-08-02 06:12:41,188 - __main__ - INFO - Humidity distribution: {'RH_high': 1719, 'RH_mid': 1385, 'RH_low': 148}
2025-08-02 06:12:41,188 - __main__ - INFO - Creating precipitation bins...
2025-08-02 06:12:41,190 - __main__ - INFO - Created precipitation bins: ['rain_days_0_1mm', 'rain_days_1_10mm', 'rain_days_10_plus']
2025-08-02 06:12:41,190 - __main__ - INFO - Precipitation distribution: {'rain_days_0_1mm': 3252}
2025-08-02 06:12:41,190 - __main__ - INFO - Creating socioeconomic bins...
2025-08-02 06:12:41,196 - __main__ - INFO - GDP categories created with quantiles: [10725.29206699 15316.07777778]
2025-08-02 06:12:41,198 - __main__ - INFO - Population categories created with quantiles: [191632. 530113.]
2025-08-02 06:12:41,200 - __main__ - INFO - Nightlight categories created: ['rural', 'urban_low', 'urban_high']
2025-08-02 06:12:41,200 - __main__ - INFO - Creating canopy bins...
2025-08-02 06:12:41,203 - __main__ - INFO - Canopy categories: ['no_canopy', 'low_canopy', 'medium_canopy', 'high_canopy']
2025-08-02 06:12:41,204 - __main__ - INFO - Canopy distribution: {'high_canopy': 2136, 'low_canopy': 575, 'medium_canopy': 421, 'no_canopy': 120}
2025-08-02 06:12:41,204 - __main__ - INFO - Creating two-way interactions...
2025-08-02 06:12:41,220 - __main__ - INFO - Created two-way interactions with dummy encoding
2025-08-02 06:12:41,221 - __main__ - INFO - Cleaning and validating features...
2025-08-02 06:12:41,259 - __main__ - INFO - Feature cleaning completed: (3252, 141)
2025-08-02 06:12:41,259 - __main__ - INFO - test feature engineering completed: (3252, 42) → (3252, 141)
2025-08-02 06:12:41,286 - __main__ - INFO - Saved test engineered dataset: G:\research\junmao-tang\code-test\code-space\data\processed\ml_analysis_city\engineered\test_engineered.parquet
2025-08-02 06:12:41,286 - __main__ - INFO - Creating feature summary...
2025-08-02 06:12:41,288 - __main__ - INFO - Feature summary saved: G:\research\junmao-tang\code-test\code-space\data\processed\ml_analysis_city\engineered\feature_engineering_summary.json
2025-08-02 06:12:41,288 - __main__ - INFO - Feature Engineering Summary:
2025-08-02 06:12:41,288 - __main__ - INFO -   Total features: 156
2025-08-02 06:12:41,289 - __main__ - INFO -   target_variables: 2 features
2025-08-02 06:12:41,289 - __main__ - INFO -   climate_features: 64 features
2025-08-02 06:12:41,289 - __main__ - INFO -   socioeconomic_features: 77 features
2025-08-02 06:12:41,289 - __main__ - INFO -   canopy_features: 77 features
2025-08-02 06:12:41,289 - __main__ - INFO -   temporal_features: 3 features
2025-08-02 06:12:41,290 - __main__ - INFO -   interaction_features: 101 features
2025-08-02 06:12:41,290 - __main__ - INFO -   policy_features: 1 features
2025-08-02 06:12:41,290 - __main__ - INFO -   spatial_features: 31 features
2025-08-02 06:12:41,290 - __main__ - INFO -   other_features: 17 features
2025-08-02 06:12:41,290 - __main__ - INFO - Feature engineering completed for all splits!
